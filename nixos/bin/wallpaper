#!/usr/bin/env bash

die() {
    >&2 echo $1
    exit 1
}

if [[ -z ${1+x} ]]; then
    die "Give me a wallpaper directory"
elif [[ ! -e $1 ]]; then
    die "Not found: $1"
elif [[ ! -d $1 ]]; then
    die "Not a directory: $1"
fi

while true; do
    feh --no-fehbg --bg-center --bg-fill --randomize --recursive "$1"
    sleep 30m
done
